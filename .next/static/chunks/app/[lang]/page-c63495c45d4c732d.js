(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{82571:function(e,t,n){Promise.resolve().then(n.bind(n,34670))},34670:function(e,t,n){"use strict";n.d(t,{default:function(){return S}});var r=n(57437),a=n(2265);let s={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},i={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},o="mousemove",c="mouseup";function u(e,t){if(0===t)return e;let n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}var l=n(16463),p=n(30910),d=n(21513),h=n(78030);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,h.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),m=(0,h.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var f=n(96592),v=n(954);let b=n(20357).env.API_KEY,w=b?new v.fA({apiKey:b}):null,y=async()=>{if(!w)return console.warn("API_KEY for Gemini is not set. AI features are disabled."),"AI is currently unavailable. Please try again later.";try{return(await w.models.generateContent({model:"gemini-2.5-flash",contents:"Write a short, witty, and slightly humorous social media post about daily life, politics, or tea in Iraq. Keep it under 280 characters. The tone should be optimistic and engaging for a young Iraqi audience. Do not use hashtags."})).text||"Couldn't generate a post right now. Try again in a moment!"}catch(e){return console.error("Error generating social post:",e),"Couldn't generate a post right now. Try again in a moment!"}};var j=n(78500);let O={name:"You",avatar:"https://i.pravatar.cc/48?u=current_user",verified:!1},x=[{id:"post-1",author:{name:"Iraqi News",avatar:"https://i.pravatar.cc/48?u=news",verified:!0},content:"Election day is approaching! Make sure you are registered to vote and have a plan to get to the polls. Your voice matters.",likes:1200,comments:153,shares:45,timestamp:new Date(Date.now()-18e5),image:"https://picsum.photos/seed/election-day/800/400"},{id:"post-2",author:{name:"Community Organizer",avatar:"https://i.pravatar.cc/48?u=organizer",verified:!1},content:"We are organizing a local town hall next week to discuss key issues with candidates. All are welcome to attend and participate in the discussion.",likes:450,comments:62,shares:12,timestamp:new Date(Date.now()-108e5)}];function T(e){let{onCreatePost:t,dictionary:n}=e,[s,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),u=async()=>{c(!0);try{let e=await y();i(e)}catch(e){f.Am.error("Failed to generate post.")}finally{c(!1)}};return(0,r.jsx)(d.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-md mb-6",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&(t(s),i(""),f.Am.success("Your post has been published!"))},children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("img",{src:O.avatar,alt:"Your avatar",className:"w-12 h-12 rounded-full"}),(0,r.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),placeholder:n.placeholder,className:"w-full h-24 p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none","aria-label":"Create a new post"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("button",{type:"button",onClick:u,disabled:o,className:"flex items-center gap-2 px-4 py-2 text-green-700 font-semibold rounded-lg disabled:opacity-50 hover:bg-green-50 dark:text-green-400 dark:hover:bg-gray-700 transition",children:[o?(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-dashed rounded-full animate-spin border-green-500"}):(0,r.jsx)(g,{size:16}),(0,r.jsx)("span",{children:o?n.generating:n.generateWithAI})]}),(0,r.jsxs)("button",{type:"submit",disabled:!s.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg disabled:bg-gray-400 disabled:cursor-not-allowed hover:bg-green-700 transition",children:[(0,r.jsx)(m,{size:16}),(0,r.jsx)("span",{children:n.post})]})]})]})})}function S(e){let{lang:t,dictionary:n}=e,d=(0,l.useRouter)(),[h,g]=(0,a.useState)([]),[m,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=setTimeout(()=>{g(x),f(!1)},1500);return()=>clearTimeout(e)},[]);let v=function(e){var t,n,r;let l;let{trackMouse:p}=e,d=a.useRef(Object.assign({},i)),h=a.useRef(Object.assign({},s)),g=a.useRef(Object.assign({},h.current));for(l in g.current=Object.assign({},h.current),h.current=Object.assign(Object.assign({},s),e),s)void 0===h.current[l]&&(h.current[l]=s[l]);let[m,f]=a.useMemo(()=>(function(e,t){let n=t=>{let n="touches"in t;n&&t.touches.length>1||e((e,a)=>{a.trackMouse&&!n&&(document.addEventListener(o,r),document.addEventListener(c,p));let{clientX:s,clientY:l}=n?t.touches[0]:t,d=u([s,l],a.rotationAngle);return a.onTouchStartOrOnMouseDown&&a.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),i),{initial:d.slice(),xy:d,start:t.timeStamp||0})})},r=t=>{e((e,n)=>{let r="touches"in t;if(r&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:a,clientY:i}=r?t.touches[0]:t,[o,c]=u([a,i],n.rotationAngle),l=o-e.xy[0],p=c-e.xy[1],d=Math.abs(l),h=Math.abs(p),g=(t.timeStamp||0)-e.start,m=d>h?l>0?"Right":"Left":p>0?"Down":"Up",f="number"==typeof n.delta?n.delta:n.delta[m.toLowerCase()]||s.delta;if(d<f&&h<f&&!e.swiping)return e;let v={absX:d,absY:h,deltaX:l,deltaY:p,dir:m,event:t,first:e.first,initial:e.initial,velocity:Math.sqrt(d*d+h*h)/(g||1),vxvy:[l/(g||1),p/(g||1)]};v.first&&n.onSwipeStart&&n.onSwipeStart(v),n.onSwiping&&n.onSwiping(v);let b=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${m}`])&&(b=!0),b&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:v,swiping:!0})})},a=t=>{e((e,n)=>{let r;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(r);let a=n[`onSwiped${r.dir}`];a&&a(r)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),i),{eventData:r})})},l=()=>{document.removeEventListener(o,r),document.removeEventListener(c,p)},p=e=>{l(),a(e)},d=(e,t)=>{let i=()=>{};if(e&&e.addEventListener){let o=Object.assign(Object.assign({},s.touchEventOptions),t.touchEventOptions),c=[["touchstart",n,o],["touchmove",r,Object.assign(Object.assign({},o),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",a,o]];c.forEach(([t,n,r])=>e.addEventListener(t,n,r)),i=()=>c.forEach(([t,n])=>e.removeEventListener(t,n))}return i},h={ref:t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;let r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&t&&(r.cleanUpTouch=d(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),r)})}};return t.trackMouse&&(h.onMouseDown=n),[h,d]})(e=>d.current=e(d.current,h.current),{trackMouse:p}),[p]);return d.current=(t=d.current,n=h.current,r=g.current,n.trackTouch&&t.el?t.cleanUpTouch?n.preventScrollOnSwipe!==r.preventScrollOnSwipe||n.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:f(t.el,n)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:f(t.el,n)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))),m}({onSwipedLeft:()=>d.push("/".concat(t,"/discover")),onSwipedRight:()=>d.push("/".concat(t,"/profile")),preventScrollOnSwipe:!0,trackMouse:!0});return(0,r.jsx)("div",{...v,className:"min-h-screen",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[(0,r.jsx)(T,{onCreatePost:e=>{let t={id:"post-".concat(Date.now()),author:O,content:e,likes:0,comments:0,shares:0,timestamp:new Date};g(e=>[t,...e])},dictionary:n.compose}),m?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(j.Z,{}),(0,r.jsx)(j.Z,{})]}):(0,r.jsx)(p.default,{lang:t,posts:h})]})})}},16463:function(e,t,n){"use strict";var r=n(71169);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},20357:function(e,t,n){"use strict";var r,a;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(a=n.g.process)?void 0:a.env)?n.g.process:n(88081)},88081:function(e){!function(){var t={229:function(e){var t,n,r,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c=[],u=!1,l=-1;function p(){u&&r&&(u=!1,r.length?c=r.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=o(p);u=!0;for(var t=c.length;t;){for(r=c,c=[];++l<t;)r&&r[l].run();l=-1,t=c.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||o(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={exports:{}},i=!0;try{t[e](s,s.exports,r),i=!1}finally{i&&delete n[e]}return s.exports}r.ab="//";var a=r(229);e.exports=a}()}},function(e){e.O(0,[19,513,33,886,910,971,582,744],function(){return e(e.s=82571)}),_N_E=e.O()}]);